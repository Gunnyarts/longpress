<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Longpress : An event listener for longpressing elements on desktop and mobile">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Longpress</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/Gunnyarts/longpress">View on GitHub</a>

          <h1 id="project_title">Longpress</h1>
          <h2 id="project_tagline">An event listener for longpressing elements on desktop and mobile</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/Gunnyarts/longpress/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/Gunnyarts/longpress/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
<a id="how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use</h2>

<p>Add the plugin in the header.</p>

<pre lang="html5"><code>&lt;script src="path/to/jquery.longpress.js"&gt;&lt;/script&gt;
</code></pre>

<p>Then add the event to a jQuery selector.</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>.trigger<span class="pl-pds">"</span></span>).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">"</span>longpress<span class="pl-pds">"</span></span>, <span class="pl-k">function</span>(){
    <span class="pl-c">// Your actions here</span>
});</pre></div>

<p><a href="http://gunnyarts.github.io/longpress/demo/">Demo</a></p>

<h3>
<a id="prevent-mobile-link-context-popup" class="anchor" href="#prevent-mobile-link-context-popup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prevent mobile link context popup</h3>

<p>You can call the function <code>preventContext</code> on the links you are longpressing</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>.trigger<span class="pl-pds">'</span></span>).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>load<span class="pl-pds">'</span></span>, preventContext);
</pre></div>

<p>This will prevent the context popup from appearing on the page where this function is called. This should only be used when necessary, as it will prevent your users from opening links in new tabs, save images, etc. on mobile devices.</p>

<p>This will only prevent the link context popup from appearing; the user can still highlight and copy normal text on the page.</p>

<h2>
<a id="how-it-works" class="anchor" href="#how-it-works" aria-hidden="true"><span class="octicon octicon-link"></span></a>How it works</h2>

<p>The plugin finds all elements in <code>body</code>.
When the element is clicked a <code>timeout</code> is started. When the <code>timeout</code> ends the <code>longpress</code> event will be triggered on the element.</p>

<p>If the press or click is stopped before the <code>timeout</code> the <code>longpress</code> event will not be triggered.</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>body<span class="pl-pds">'</span></span>).<span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">'</span>*<span class="pl-pds">'</span></span>).<span class="pl-en">each</span>(<span class="pl-k">function</span>(){
    <span class="pl-k">var</span> self <span class="pl-k">=</span> <span class="pl-en">$</span>(<span class="pl-v">this</span>);
    <span class="pl-smi">self</span>.<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>mousedown<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(){
        <span class="pl-k">var</span> timeout <span class="pl-k">=</span> <span class="pl-c1">setTimeout</span>(<span class="pl-k">function</span>(){
            <span class="pl-smi">self</span>.<span class="pl-en">trigger</span>(<span class="pl-s"><span class="pl-pds">'</span>longpress<span class="pl-pds">'</span></span>);
        }, <span class="pl-c1">500</span>)
        <span class="pl-smi">self</span>.<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>mouseup<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(){
            <span class="pl-c1">clearTimeout</span>(timeout);
        });
    });
});</pre></div>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Longpress maintained by <a href="https://github.com/Gunnyarts">Gunnyarts</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-71809928-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
